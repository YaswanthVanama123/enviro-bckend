# ============================================================================
# ENVIRONMENT & SERVER CONFIGURATION
# ============================================================================
NODE_ENV=production
# ⚠️ cPanel will set this automatically - DO NOT set a fixed PORT
# The server.js file already uses: const PORT = process.env.PORT || 5000
PORT=5000

# ⚠️ CPANEL: Update this with your subdomain after setup
# Example: https://server.enviromasternva.com (NO trailing slash)
SERVER_URL=https://server.enviromasternva.com

# ============================================================================
# DATABASE CONFIGURATION (MongoDB Atlas)
# ============================================================================
MONGO_URI=mongodb+srv://vanamayaswanth1_db_user:NzvLPS9c2KO02tDz@cluster0.f1kzy9b.mongodb.net/enviro_master?retryWrites=true&w=majority
MONGO_DB=enviro_master

# ============================================================================
# PDF SERVICE CONFIGURATION
# ============================================================================
# ⚠️ IMPORTANT: Do NOT include /pdf at the end! The code adds the path automatically.
# CORRECT: http://142.93.213.187:3000
# WRONG: http://142.93.213.187:3000/pdf (causes double /pdf/pdf/ in URL)
PDF_REMOTE_BASE=http://142.93.213.187:3000
PDF_MAX_BODY_MB=5
PDF_REMOTE_TIMEOUT_MS=90000

# ============================================================================
# ZOHO BIGIN INTEGRATION
# ============================================================================
# Client credentials from Zoho API Console
ZOHO_CLIENT_ID=1000.1EZQQI578R0FF0D892H8LFWROMYNQV
ZOHO_CLIENT_SECRET=75063a1499cfcff533a773b84eb6feb63948165d71

# Zoho India data center URLs
ZOHO_ACCOUNTS_URL=https://accounts.zoho.in
ZOHO_BIGIN_API_URL=https://www.zohoapis.in/bigin/v2
ZOHO_CRM_API_URL=https://www.zohoapis.in/crm/v3

# ⚠️ CPANEL: Update this with your subdomain after setup
# Example: https://server.enviromasternva.com/oauth/callback
# This MUST match the redirect URI in Zoho API Console
ZOHO_REDIRECT_URI=https://server.enviromasternva.com/oauth/callback

# Zoho refresh token (will be regenerated after OAuth flow on production)
# Current token is for development - regenerate in production by visiting:
# https://your-app-name.onrender.com/oauth/zoho/auth
ZOHO_REFRESH_TOKEN=1000.8d0321c0d20a3ad9510702f16f4ed005.2b87fb7ed88fa12be4df88e02548c16b

# ============================================================================
# EMAIL CONFIGURATION (SMTP)
# ============================================================================
EMAIL_HOST=enviromasternva.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=hvanama@enviromasternva.com
EMAIL_PASSWORD=Satyavani@123
EMAIL_FROM_NAME=EnviroMaster NVA
EMAIL_FROM_ADDRESS=hvanama@enviromasternva.com

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
# JWT Secret - Strong random string for token signing
JWT_SECRET=ecb3d1020938632c45709d08c96f478f9887e93e42395e1fd9be81c0eac72d00e00c0b78ba29691304cd14eaee41edeecd55218463f27e7217a25e891e14fe2a
JWT_EXPIRES_IN=7d

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# ⚠️ CPANEL: Update this with your frontend URLs
# Production frontend: https://enviromasternva.com
# Agreement subfolder: https://enviromasternva.com/agreement
# Multiple origins: https://frontend1.com,https://frontend2.com
# For local development, also include: http://localhost:5173,http://localhost:3000
ALLOWED_ORIGINS=https://enviromasternva.com,http://localhost:5173,http://localhost:3000

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=info

# ============================================================================
# DEPLOYMENT NOTES - cPanel Deployment
# ============================================================================
#
# BEFORE DEPLOYING TO CPANEL:
# 1. ✅ MongoDB Atlas - Already configured correctly
# 2. ✅ Email credentials - Already configured correctly
# 3. ✅ Zoho credentials - Already configured correctly
# 4. ✅ JWT_SECRET - Already generated (strong 128-char secret)
# 5. ✅ SERVER_URL - Set to https://server.enviromasternva.com
# 6. ✅ ZOHO_REDIRECT_URI - Set to https://server.enviromasternva.com/oauth/callback
# 7. ✅ ALLOWED_ORIGINS - Set to https://enviromasternva.com (your frontend)
#
# CPANEL DEPLOYMENT STEPS:
# 1. Upload backend code to: ~/nodeapps/enviro-backend/
# 2. In cPanel "Setup Node.js App":
#    - Application root: nodeapps/enviro-backend
#    - Application URL: server.enviromasternva.com
#    - Application startup file: server.js
#    - Node.js version: 18 or 20 (latest available)
# 3. Add all environment variables from this file to cPanel
# 4. Run NPM Install
# 5. Start the application
# 6. Update Zoho API Console redirect URI to match production URL
# 7. Regenerate ZOHO_REFRESH_TOKEN by visiting:
#    https://server.enviromasternva.com/oauth/zoho/auth
#
# ============================================================================
